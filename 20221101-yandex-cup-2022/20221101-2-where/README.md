# Где все?

Задача с Yandex Cup 2022

**Результат:** Ошибка во время исполнения (0 баллов из 20)

## Условие
Монитор показывал невозможное: перемещение в прошлое на три миллиарда лет назад. Очевидно, хронопорт нуждался в некоторых доработках. Однако удивляться некогда: заряд ноутбука уменьшился до 87%, а еще предстоит починить машину времени и заодно выяснить, откуда взялись здания на горизонте, если людей тут нет и не будет еще долго.

Добравшись до города за пару часов, ты сразу понимаешь, что он создан высокоразвитой цивилизацией, которая была задолго до человечества. Но ни одного её представителя обнаружить не удаётся. В одном из домов ты видишь старинное устройство, напоминающее обычный компьютер из твоего времени.

Монитор мигает, принимая сообщения на неизвестном языке с интервалом в несколько минут. Рассмотрев тексты, ты замечаешь, что сообщения похожи по структуре, меняются только их части. Ты открываешь инструкцию по дешифрации и принимаешься за дело.

**Условие задачи:**
Необходимо реализовать и экспортировать функцию `lint`, которая принимает на вход строку неизвестного языка, набор правил для форматирования файла и список токенов языка. Согласно правилам необходимо отформатировать строку и вернуть ее.

```typescript
type TokenValue = string;

interface RulesMap {
    [value: TokenValue] = number | TokenValue | '\n'
}
interface TokensMap {
    [token: string] = string 
}

type LintFunction = (text: string, tokensMap: TokensMap, rules: RulesMap) => string;
```

Инструкции к правилам у нас нет, но есть примеры, по которым можно ориентироваться:

```typescript
const originalString = "lg=lv_ll_lg=vl";
const rulesMap = {
  "l": 1,
  "v": 3,
  "_": "\n",
  "=": " = ",
}
const tokensMap = {
  "lg": "val"
}

lint(originalString, tokensMap, rulesMap);
```

Результат:
```typescript
let val = 13
11
val = 31
```

Можно предположить, что строка является своего рода набором инструкций на языке древнего компьютера, которые представляет из себя набор выражений с присваиваниям токенам значений. Правила форматирования хранят способ дешифровки значений и спец символов, вроде перевода строки. А набор токенов содержат набор переменных, с их представлением в зашифрованной строке.

А вот второй пример, не столь тривиальный:

```typescript
const originalString = "ab=tl*cd=ls*ef=dd";
const rulesMap = {
  "t": 1,
  "l": "s",
  "s": 3,
  "d": 4,
  "k": 9,
  "*": "\n",
}
const tokensMap = {
  "ab": "val1",
  "cd": "val2",
  "ef": "val3",
  "-d": "k",
}

lint(originalString, tokensMap, rulesMap);
```

Результат:
```typescript
let val1=13
let val2=33
let val3=99
```
